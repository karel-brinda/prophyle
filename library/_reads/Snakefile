import rnftools
import os
import subprocess

cmd="find ../Bacteria -type f -name '*.fna' -o -name '*.ffn' | sort"

res=subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, universal_newlines=True).stdout.read()
fns=str(res)
fns=fns.split()

rnftools.mishmash.sample("simulation_bacteria",reads_in_tuple=1)

for fn in fns:
	rnftools.mishmash.DwgSim(
		fasta=fn,
		coverage=0.5,
		read_length_1=100,
		read_length_2=0,
		error_rate_1=0,
		mutation_rate=0,
	)

include: rnftools.include()
rule: input: rnftools.input()
